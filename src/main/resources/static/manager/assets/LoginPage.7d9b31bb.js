import{d as h,C as p,K as v,u as x,r,o as B,k as V,m as l,n as o,L as a,M as C,N as F,q as f,a as k,J as R}from"./vendor.257a1e03.js";const q={style:{height:"100%",width:"100%",display:"flex","justify-content":"center","align-items":"center"}},E=f(" \u767B\u9646 "),M=f("\u767B\u9646"),z=h({setup(N){let u=p(null),d=null,_={email:{required:!0,trigger:["blur","input"],message:"\u8BF7\u8F93\u5165 \u7528\u6237"},password:{required:!0,trigger:["blur","input"],message:"\u8BF7\u8F93\u5165 \u5BC6\u7801"}},s=p({email:"",password:""});v(()=>{d=u.value});let c=x(),w=async()=>{d.validate(async m=>{if(!m)return!1;try{await k.post("/sys/manager/login",{name:s.value.email,pwd:s.value.password}),c.push("/main")}catch(e){R({type:"error",message:`${e.response.data}`})}})};return(m,e)=>{const i=r("el-input"),n=r("el-form-item"),g=r("el-button"),b=r("el-card");return B(),V("div",q,[l(b,{size:"medium",style:{width:"360px"},shadow:"hover"},{header:o(()=>[E]),default:o(()=>[l(a(C),{size:"medium",model:a(s),rules:a(_),ref:(t,y)=>{y.formRef=t,F(u)?u.value=t:u=t},"label-width":"48px","label-placement":"left"},{default:o(()=>[l(n,{label:"\u7528\u6237",prop:"email"},{default:o(()=>[l(i,{modelValue:a(s).email,"onUpdate:modelValue":e[0]||(e[0]=t=>a(s).email=t)},null,8,["modelValue"])]),_:1}),l(n,{label:"\u5BC6\u7801",prop:"password"},{default:o(()=>[l(i,{type:"password",modelValue:a(s).password,"onUpdate:modelValue":e[1]||(e[1]=t=>a(s).password=t)},null,8,["modelValue"])]),_:1}),l(n,null,{default:o(()=>[l(g,{onClick:e[2]||(e[2]=t=>a(w)())},{default:o(()=>[M]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})])}}});export{z as default};
