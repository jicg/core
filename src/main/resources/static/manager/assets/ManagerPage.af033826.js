import{d as R,i as V,u as $,s as E,r as d,j as T,o as i,c as p,n as t,m as l,y as r,L as _,k as f,p as y,F as x,l as q,q as m,a as D,J as H,B as b}from"./vendor.257a1e03.js";import{s as S,c as J}from"./comm.155bb935.js";const U=r("div",{style:{"text-align":"center"}},[r("span",null,"\u7BA1\u7406")],-1),G=m("\u6A21\u5757"),I=m("\u64CD\u4F5C"),K=m("\u91CD\u8F7D"),O=m("\u5173\u4E8E"),P=r("i",{class:"el-icon-location"},null,-1),Q=r("i",{class:"el-icon-location"},null,-1),Z=R({setup(W){const h=V(),g=$();let u=E({mods:[],loading:!1}),c=E({loading:!1,menus:[]}),j=()=>{u.loading=!0,D.get("/sys/manager/api/mod/list").then(e=>{var a,s;u.mods=e.data,u.loading=!1;let n=((a=h==null?void 0:h.params.mod)!=null?a:"")+"";u.mods&&u.mods.length>0&&!n&&(n=(s=u.mods[0])!=null?s:""),w(n!=null?n:"")}).catch(e=>{S(e),u.loading=!1})},w=e=>{c.loading=!0,D.get("/sys/manager/api/menu/list2?mod="+(e!=null?e:"")).then(n=>{c.menus=n.data,c.loading=!1}).catch(n=>{S(n),c.loading=!1})},F=(e,n)=>{var s;let a=(s=h.params.mod)!=null?s:"";if(!a){g.push("/main/table/"+e);return}g.push("/main/mod/"+a+"/table/"+e)},B=(e,n)=>{if(e=="reload")D.get("/sys/manager/api/table/reload").then(a=>{J(""+a.data)}).catch(a=>{S(a)});else if(e=="about")H({dangerouslyUseHTMLString:!0,message:'create by <b><a href="https://github.com/jicg/core" target="_blank">@jicg</a></b>'});else{if(w(e),!e){g.push("/main");return}g.push("/main/mod/"+e)}};return j(),(e,n)=>{const a=d("el-menu-item"),s=d("el-sub-menu"),v=d("el-menu"),N=d("el-header"),z=d("el-aside"),A=d("router-view"),L=d("el-main"),k=d("el-container"),M=T("loading");return i(),p(k,{style:{height:"100%"}},{default:t(()=>[l(N,{style:{display:"grid","grid-template-columns":"200px 1fr auto",height:"60px","line-height":"60px",padding:"0","font-size":"24px"}},{default:t(()=>[U,r("div",null,[l(v,{"default-active":e.$route.params.mod,mode:"horizontal",onSelect:_(B)},{default:t(()=>[l(s,{index:"1"},{title:t(()=>[G]),default:t(()=>[(i(!0),f(x,null,y(_(u).mods,o=>(i(),p(a,{index:o},{default:t(()=>[m(b(o&&o.length>0?o:"\u9ED8\u8BA4"),1)]),_:2},1032,["index"]))),256))]),_:1})]),_:1},8,["default-active","onSelect"])]),l(v,{mode:"horizontal",onSelect:_(B)},{default:t(()=>[l(s,{index:"2"},{title:t(()=>[I]),default:t(()=>[l(a,{index:"reload"},{default:t(()=>[K]),_:1}),l(a,{index:"about"},{default:t(()=>[O]),_:1})]),_:1})]),_:1},8,["onSelect"])]),_:1}),q(l(k,{style:{"max-height":"calc(100% - 60px)",border:"1px solid #eee"}},{default:t(()=>[l(z,{width:"200px",style:{"background-color":"rgb(238, 241, 246)"}},{default:t(()=>[l(v,{"default-active":e.$route.params.tableName,onSelect:_(F)},{default:t(()=>[(i(!0),f(x,null,y(_(c).menus,o=>(i(),f(x,null,[o.group?(i(),p(s,{key:0,index:o.group},{title:t(()=>[P,r("span",null,b(o.group),1)]),default:t(()=>[(i(!0),f(x,null,y(o.menus,C=>(i(),p(a,{index:C.name},{default:t(()=>[m(b(C.remark),1)]),_:2},1032,["index"]))),256))]),_:2},1032,["index"])):(i(),p(a,{key:1,index:o.name},{title:t(()=>[Q,r("span",null,b(o.remark),1)]),_:2},1032,["index"]))],64))),256))]),_:1},8,["default-active","onSelect"])]),_:1}),l(L,{style:{"max-height":"100%",padding:"6px"}},{default:t(()=>[l(A,{key:e.$route.path})]),_:1})]),_:1},512),[[M,_(c).loading]])]),_:1})}}});export{Z as default};
